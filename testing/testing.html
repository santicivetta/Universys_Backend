<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <script type="text/javascript" src="./jquery.js"></script>
  <link rel="stylesheet" type="text/css" href="./estilo.css">
</head>
<body>
  <header>
    <h1>Testing Unitario Backend</h1>
  </header>
  <main>
    <div id="botones">
      <h2>Testings Disponibles</h2>
      <button name="button" id="validarSesion">ValidarSesion</button>
      <button name="button" id="login">Login</button>
      <button name="button" id="logout">Logout</button>
      <button name="button" id="altaUsuario">AltaUsuario</button>
      <button name="button" id="modificacionUsuario">ModifUsuario</button>
      <button name="button" id="bajaUsuario">BajaUsuario</button>
      <button name="button" id="altaCarrera">AltaCarrera</button>
      <button name="button" id="modificacionCarrera">ModifCarrera</button>
      <button name="button" id="bajaCarrera">BajaCarrera</button>
      <button name="button" id="altaCatedra">AltaCatedra</button>
      <button name="button" id="modificacionCatedra">ModifCatedra</button>
      <button name="button" id="bajaCatedra">BajaCarrera</button>
      <button name="button" id="todos"><strong>Todos</strong></button>
    </div>
    <div id="datos">
      <h2>Estado</h2>
      <div id="estado">
      </div>
      <h2>Consola</h2>
      <div id="respuesta">
      </div>
      <button name="button" id="limpiarConsola">Limpiar</button>
    </div>
  </main>
  <footer>
    Universys - Backend - Universidad de Belgrano
  </footer>

</body>
<script>
  $(document).on('ready',function(){
    
    $('#validarSesion').click(function(){
      cargando();
      validarSesion(true);
    });

    $('#login').click(function(){
      cargando();
      login(true);
    });

    $('#logout').click(function(){
      cargando();
      logout(true);
    });

    $('#altaUsuario').click(function(){
      cargando();
      altaUsuario(true);
    });

    $('#modificacionUsuario').click(function(){
      cargando();
      modificacionUsuario(true);
    });

    $('#bajaUsuario').click(function(){
      cargando();
      bajaUsuario(true);
    });

    $('#altaCarrera').click(function(){
      cargando();
      altaCarrera(true);
    });

    $('#modificacionCarrera').click(function(){
      cargando();
      modificacionCarrera(true);
    });

    $('#bajaCarrera').click(function(){
      cargando();
      bajaCarrera(true);
    });

    $('#altaCatedra').click(function(){
      cargando();
      altaCatedra(true);
    });

    $('#modificacionCatedra').click(function(){
      cargando();
      modificacionCatedra(true);
    });

    $('#bajaCatedra').click(function(){
      cargando();
      bajaCatedra(true);
    });

    $('#limpiarConsola').click(function(){
      $('#respuesta').empty();
    });

    $('#todos').click(function(){
      cargando();
      validarSesion(false,function() {
        login(false,function(){
          logout(false,function(){
            altaUsuario(false,function(){
              modificacionUsuario(false,function(){
                bajaUsuario(false,function(){
                  altaCarrera(false,function(){
                    modificacionCarrera(false,function(){
                      bajaCarrera(false,function(){
                        altaCatedra(false,function(){
                          modificacionCatedra(false,function(){
                            bajaCatedra(true);
                          });
                        });
                      });
                    });
                  });
                });
              });
            });
          });
        });
      });
    });

  });

  function validarSesion(estado=false, onComplete=null){
    $.ajax({url: "testingValidarSesion/pruebaValidarSesion.php", 
        type: 'POST', 
        data: { },
       success : function(respuesta) {
         $('#respuesta').append(respuesta);
         if(onComplete) {
          onComplete();
         }
         if (estado){
            finalizado();
         }
       },
       error : function(respuesta) {
        if(onComplete) {
          onComplete();
        }
       }
     })
  }

  function login(estado=false,onComplete=null){
  $.ajax({url: "testingLogin/pruebaLogin.php", 
      type: 'POST', 
      data: { },
     success : function(respuesta) {
       $('#respuesta').append(respuesta);
       if(onComplete){
        onComplete();
       }
       if (estado){
          finalizado();
       }
     },
     error : function(respuesta){
      if(onComplete){
        onComplete();
      }
     }
   })
  }

  function logout(estado=false,onComplete=null){
  $.ajax({url: "testingLogout/pruebaLogout.php", 
      type: 'POST', 
      data: { },
     success : function(respuesta) {
       $('#respuesta').append(respuesta);
       if(onComplete){
        onComplete();
       }
       if (estado){
          finalizado();
       }
     },
     error : function(respuesta){
      if(onComplete){
        onComplete();
      }
    }
   })
  }

  function altaUsuario(estado=false,onComplete=null){
  $.ajax({url: "testingAbmUsuarios/pruebaAlta.php", 
      type: 'POST', 
      data: { },
     success : function(respuesta) {
       $('#respuesta').append(respuesta);
       if(onComplete){
        onComplete();
       }
       if (estado){
          finalizado();
       }
     },
     error : function(respuesta){
      if(onComplete){
        onComplete();
      }
    }
   })
  }

  function modificacionUsuario(estado=false,onComplete=null){
  $.ajax({url: "testingAbmUsuarios/pruebaModificacion.php", 
      type: 'POST', 
      data: { },
     success : function(respuesta) {
       $('#respuesta').append(respuesta);
       if(onComplete){
        onComplete();
       }
       if (estado){
          finalizado();
       }
     },
     error : function(respuesta){
      if(onComplete){
        onComplete();
      }
    }
   })
  }

  function bajaUsuario(estado=false,onComplete=null){
  $.ajax({url: "testingAbmUsuarios/pruebaBaja.php", 
      type: 'POST', 
      data: { },
     success : function(respuesta) {
       $('#respuesta').append(respuesta);
       if(onComplete){
        onComplete();
       }
       if (estado){
          finalizado();
       }
     },
     error : function(respuesta){
      if(onComplete){
        onComplete();
      }
    }
   })
  }

  function altaCarrera(estado=false,onComplete=null){
  $.ajax({url: "testingAbmCarreras/pruebaAlta.php", 
      type: 'POST', 
      data: { },
     success : function(respuesta) {
       $('#respuesta').append(respuesta);
       if(onComplete){
        onComplete();
       }
       if (estado){
          finalizado();
       }
     },
     error : function(respuesta){
      if(onComplete){
        onComplete();
      }
    }
   })
  }

  function modificacionCarrera(estado=false,onComplete=null){
  $.ajax({url: "testingAbmCarreras/pruebaModificacion.php", 
      type: 'POST', 
      data: { },
     success : function(respuesta) {
       $('#respuesta').append(respuesta);
       if(onComplete){
        onComplete();
       }
       if (estado){
          finalizado();
       }
     },
     error : function(respuesta){
      if(onComplete){
        onComplete();
      }
    }
   })
  }

  function bajaCarrera(estado=false,onComplete=null){
  $.ajax({url: "testingAbmCarreras/pruebaBaja.php", 
      type: 'POST', 
      data: { },
     success : function(respuesta) {
       $('#respuesta').append(respuesta);
       if(onComplete){
        onComplete();
       }
       if (estado){
          finalizado();
       }
     },
     error : function(respuesta){
      if(onComplete){
        onComplete();
      }
    }
   })
  }

  function altaCatedra(estado=false,onComplete=null){
  $.ajax({url: "testingAbmCatedras/pruebaAlta.php", 
      type: 'POST', 
      data: { },
     success : function(respuesta) {
       $('#respuesta').append(respuesta);
       if(onComplete){
        onComplete();
       }
       if (estado){
          finalizado();
       }
     },
     error : function(respuesta){
      if(onComplete){
        onComplete();
      }
    }
   })
  }

  function modificacionCatedra(estado=false,onComplete=null){
  $.ajax({url: "testingAbmCatedras/pruebaModificacion.php", 
      type: 'POST', 
      data: { },
     success : function(respuesta) {
       $('#respuesta').append(respuesta);
       if(onComplete){
        onComplete();
       }
       if (estado){
          finalizado();
       }
     },
     error : function(respuesta){
      if(onComplete){
        onComplete();
      }
    }
   })
  }

  function bajaCatedra(estado=false,onComplete=null){
  $.ajax({url: "testingAbmCatedras/pruebaBaja.php", 
      type: 'POST', 
      data: { },
     success : function(respuesta) {
       $('#respuesta').append(respuesta);
       if(onComplete){
        onComplete();
       }
       if (estado){
          finalizado();
       }
     },
     error : function(respuesta){
      if(onComplete){
        onComplete();
      }
    }
   })
  }

  function deshabilitarTodos(){
    var botones=document.getElementsByName("button");
    for (var a=0; a<botones.length; a++){
      botones[a].disabled=true;
    }
  }

  function habilitarTodos(){
    var botones=document.getElementsByName("button");
    for (var a=0; a<botones.length; a++){
      botones[a].disabled=false;
    }
  }

  function cargando(){
    deshabilitarTodos();
    $("#estado").css("background", "#FFD889");
    $("#respuesta").css("background", "#FFD889");
    $('#estado').text("Cargando");
  }

  function finalizado(){
    habilitarTodos();
    $("#estado").css("background", "green");
    $("#respuesta").css("background", "green");
    $('#estado').text("Finalizado");
  }
</script>
</html>

